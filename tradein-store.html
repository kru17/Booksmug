<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<link href="css/bootstrap-4.4.1.css" rel="stylesheet" type="text/css">
	<link href="listbox.css" rel="stylesheet" type="text/css">
<title>Document</title>
</head>
<body>
    
</head>
<body>
	 <div class="nav_bar">
	<nav class="navbar navbar-expand-lg navbar-light bg-light"><img src="images/Logo_White__3_-removebg-preview.png" alt="" width="100" height="100" class="img-fluid"/> 
		<a class="navbar-brand" href="index2.html">BOOK SMUG</a>
	  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent1" aria-controls="navbarSupportedContent1" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button>
	  <div class="collapse navbar-collapse" id="navbarSupportedContent1">
	    <ul class="navbar-nav mr-auto">
	      
	        <div class="dropdown-menu" aria-labelledby="navbarDropdown1"> <a class="dropdown-item" href="#">Action</a> <a class="dropdown-item" href="#">Another action</a>
	          <div class="dropdown-divider"></div>
	          <a class="dropdown-item" href="#">Something else here</a> </div>
          </li>
	      
        </ul>
	    <form class="form-inline my-2 my-lg-0">
			<ul class="navbar-nav mr-auto">
				
			
	      
	        <div class="dropdown-menu" aria-labelledby="navbarDropdown1"> <a class="dropdown-item" href="#">Action</a> <a class="dropdown-item" href="#">Another action</a>
	          <div class="dropdown-divider"></div>
	          <a class="dropdown-item" href="#">Something else here</a> </div>
          </li>
	      
        </ul>
	      <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
	      <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form>
      </div>
  </nav>
</div>
<div class="cont container-fluid " >
	<fieldset>
		<div >
  <div >
      
    <table class="cont container-fluid , tabel, cont">
        <thead class="cont">
        <th>sno</th>
        <th>Owned book</th>
        <th>Author</th>
        <th>Number</th>
        <th>City</th>
        <th>Prefered book</th>
        </thead>
        <tbody class="tbod" id="tbody1"></tbody>
    </table>
  </div>
		</div>
   
		</fieldset>
</div>
  <script type="module">
    var stdno = 0;
    var tbody = document.getElementById("tbody1");

    


    function AddItemTable(Obook, Dbook, number, city, Ebook){
        let trow = document.createElement("tr");
        let td1 = document.createElement("td");
        let td2 = document.createElement("td");
        let td3 = document.createElement("td");
        let td4 = document.createElement("td");
        let td5 = document.createElement("td");
        let td6 = document.createElement("td");

        td1.innerHTML=++stdno;
        td2.innerHTML=Obook;
        td3.innerHTML=Dbook;
        td4.innerHTML=number;
        td5.innerHTML=city;
        td6.innerHTML=Ebook;
        

        trow.appendChild(td1);
        trow.appendChild(td2);
        trow.appendChild(td3);
        trow.appendChild(td4);
        trow.appendChild(td5);
        trow.appendChild(td6);

        tbody.appendChild(trow);

        }

        function addallitemstotable(Books){
            stdno=0;
            tbody.innerHTML ="";
            Books.forEach(element => {
                AddItemTable(element.OwnBook,element.DisBook, element.Number, element.city, element.Excbook);
            });
        }

        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.21.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.21.0/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyAZe_TJPh7ii-A6xXE7fh3-TEHu2pBLOvQ",
          authDomain: "booksmug.firebaseapp.com",
          databaseURL: "https://booksmug-default-rtdb.firebaseio.com",
          projectId: "booksmug",
          storageBucket: "booksmug.appspot.com",
          messagingSenderId: "65378872304",
          appId: "1:65378872304:web:23b6ef470129c7a8ae4b35",
          measurementId: "G-02L89K279D"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
    

        import{getDatabase, ref, get,  child, onValue }
        from "https://www.gstatic.com/firebasejs/9.21.0/firebase-database.js";

        const db= getDatabase();
      


        function GetAllData(){
            const dbref = ref(db);

            get(child(dbref, "User/Trade-in"))
            .then((snapshot)=>{
                var book=[];
                snapshot.forEach(childsnapshot=>{
                    book.push(childsnapshot.val());
                });

                addallitemstotable(book);
            })
        }
        window.onload= GetAllData;

  </script>

</body>
</html>